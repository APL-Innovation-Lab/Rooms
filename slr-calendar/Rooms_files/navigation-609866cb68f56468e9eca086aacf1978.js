console.log('navigation-live');var isSpanish=window.location.href.includes('/es/');let links=document.querySelectorAll('.nav-button');var searchInput=document.getElementById('searchText');var form=document.getElementById('catalog_search');searchInput.focus();document.getElementById('searchCat').checked=true;function updatePlaceholder(){let checkedRadio=document.querySelector('input[name="searchType"]:checked');let labelText=checkedRadio.nextElementSibling.innerText;searchInput.placeholder=labelText;searchInput.focus();}
updatePlaceholder();document.querySelectorAll('input[name="searchType"]').forEach(radio=>{radio.addEventListener('change',updatePlaceholder);});form.addEventListener('submit',function(event){event.preventDefault();var searchQuery=encodeURIComponent(searchInput.value);var url;if(document.getElementById('searchWeb').checked){url='/search-website?search='+searchQuery;}else{url='https://austin.bibliocommons.com/v2/search?query='+searchQuery;}
window.location.href=url;});(function($,jQuery){$(document).ready(function(){console.log('hhh')
var hash=window.location.hash;if(hash){$(hash+' h2').addClass('active')
$(hash+' h3').addClass('active')
$(hash+' h4').addClass('active')}
$('.jobportal-menu a, .accordion a').click(function(){var hash2=$(this).attr('href');console.log(hash2+' is my hash2');var dd=hash2+' h2';var dd1=hash2+' h3';var dd2=hash2+' h4';console.log(dd);$(dd).addClass('active');$(dd1).addClass('active');$(dd2).addClass('active');});});})(jQuery);function deactivateNavActiveElements(){console.log('deactivate');let activeNavLinks=document.querySelectorAll('.nav-button.active, .apl-submenu.active');for(let i=0;i<activeNavLinks.length;i++){activeNavLinks[i].classList.remove('active');}}
for(let i=0;i<links.length;i++){links[i].addEventListener('click',function(event){event.preventDefault();let wasActive=this.classList.contains('active');if(!wasActive){deactivateNavActiveElements();this.classList.add('active');let submenu=document.getElementById('sub-'+this.id);if(submenu){submenu.classList.add('active');searchInput.focus();}}else{this.classList.remove('active');let submenu=document.getElementById('sub-'+this.id);if(submenu){submenu.classList.remove('active');}}});}
function handleClickOutside(event){const clickedElement=event.target;const isInsideDetails=clickedElement.closest('.details');if(!clickedElement.classList.contains('apl-submenu')&&!clickedElement.classList.contains('active')&&!clickedElement.closest('.apl-submenu')&&!clickedElement.closest('.active')&&!isInsideDetails){deactivateNavActiveElements();}}
document.addEventListener('click',handleClickOutside);(function($){$(document).ready(function(){console.log('accordions');function setClassBasedOnHash(hash){$('.details').find('h2, h3').removeClass('active');if(hash&&$(hash).length){console.log('adding active')
$(hash).parents('.grid-col-10.grid-offset-1').find('> h2.section-heading').addClass('active');$(hash+' > h2.section-heading').addClass('active');$('html, body').animate({scrollTop:$(hash).offset().top},1000);}}
if(window.location.hash){setClassBasedOnHash(window.location.hash);}
console.log('hash = '+window.location.hash);$('.accordion h2, .accordion h3').click(function(){console.log('dude!');$(this).toggleClass('active');});$('.jobportal-menu a, .accordion a').click(function(e){const href=$(this).attr('href');if(href.startsWith("#")){e.preventDefault();setClassBasedOnHash(href);}});$(window).on('hashchange',function(){setClassBasedOnHash(window.location.hash);});});})(jQuery);